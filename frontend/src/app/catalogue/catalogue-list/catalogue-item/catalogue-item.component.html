<div
    class="list-group-item">
  <app-popup
    [message]="error"
    [type]="'error'"
    (close)="onClearError()"
    *ngIf="error">
  </app-popup>
  <app-popup
    [message]="warning"
    [type]="'warning'"
    (close)="onClearWarning()"
    *ngIf="warning">
  </app-popup>
  <app-popup
    [message]="info"
    [type]="'info'"
    (close)="onClearInfo()"
    *ngIf="info">
  </app-popup>
  <a
      style="cursor: pointer;"
      [routerLink]="[index]"
      class="list-group-item list-inline clearfix">

    <div class="pull-left">
      <h4>{{ product.productName }}</h4>
      <small class="text-muted">{{ product.productBrand }}</small>
      <p>
        {{ product.unitCost}}â‚¬{{product.unitType !== '' ? '/' + product.unitType : ''}}
      </p>
      <div *ngIf="product.quantity">
        <small class="text-muted" *ngIf="product.quantity > 5"> Available </small>
        <h4 class="text-warning" *ngIf="product.quantity > 0 && product.quantity <= 5">
          {{ product.quantity }} left!
        </h4>
      </div>
      <small class="text-danger" *ngIf="!product.quantity || product.quantity < 1"> Out of stock! </small>
    </div>
    <span class="pull-right">
      <img
        [src]="(product.url ? product.url : 'http://placeimg.com/640/480')"
        alt="{{ product.productName }}"
        class="img-responsive"
        style="max-height: 100px;" />
    </span>
  </a>
  <h4 *ngIf="cartItem && cartItem.quantity > 0">You have {{cartItem.quantity}} of this item!</h4>
  <input type="number" [(ngModel)]="quantity" />
  <button
    class="btn {{!product.quantity ? 'btn-danger' : 'btn-success'}}"
    (click)="onAddToCart()"
    [disabled]="!product.quantity || product.quantity < (quantity + (cartItem ? cartItem.quantity : 0)) || quantity < 1">
      {{!product.quantity ? 'Out of stock' : 'Add To Cart'}}
  </button>
</div>
